<!-- index.html (FINAL - includes broker selector + custom broker fields) -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Catalogue Page Builder</title>

  <link rel="stylesheet" href="css/style.css" />
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/docx@8.3.0/build/index.umd.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <style>
    .preview-panel {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      margin-top: 20px;
    }
    .preview-box {
      background: #f4f4f4;
      border: 2px solid #ccc;
      padding: 10px;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
      overflow: auto;
    }
  </style>
</head>

<body>
  <form id="input-form" spellcheck="true" lang="en-GB">
    <label style="display: block; margin-bottom: 10px;">
      Lot Number:
      <input type="text" id="lot" style="width: 100%;" placeholder="e.g. LOT 11" />
    </label>

    <label style="display: block; margin-bottom: 10px;">
      Upload Property Image:
      <input type="file" id="property-img" accept="image/*" />
    </label>

    <label style="display: block; margin-bottom: 10px;">
      Upload Map Image:
      <input type="file" id="map-img" accept="image/*" />
    </label>

    <label style="display: block; margin-bottom: 10px;">
      Upload Word Document:
      <input type="file" id="docx-file" accept=".docx" />
    </label>

    <!-- ✅ Broker selection -->
    <label style="display: block; margin-bottom: 10px;">
      Broker:
      <select id="broker-select" style="width: 100%; max-width: 600px;">
        <option value="AUTO">Auto-detect from Property Summary (DOCX)</option>
        <option value="ALEX">Alex Krause</option>
        <option value="CUSTOM">Custom (manual entry)</option>
      </select>
    </label>

    <!-- ✅ Custom broker inputs -->
    <div id="custom-broker-fields" style="display:none; margin-bottom: 10px;">
      <label style="display:block; margin-bottom: 10px;">
        Broker Name:
        <input type="text" id="broker-name" placeholder="e.g. Alex Krause" />
      </label>

      <label style="display:block; margin-bottom: 10px;">
        Broker Phone:
        <input type="text" id="broker-phone" placeholder="e.g. 078 549 2029" />
      </label>

      <label style="display:block; margin-bottom: 10px;">
        Broker Email:
        <input type="text" id="broker-email" placeholder="e.g. alex@auctioninc.co.za" />
      </label>

      <label style="display:block; margin-bottom: 10px;">
        Broker Photo (optional override for BOTH outputs):
        <input type="file" id="broker-photo" accept="image/*" />
      </label>
    </div>

    <button type="button" onclick="generateAndDownload('catalogue_page')">
      Download Catalogue Page
    </button>

    <button type="button" onclick="generateAndDownload('presentation')">
      Download Presentation Page
    </button>
  </form>

  <h2>Preview</h2>
  <div class="preview-panel">
    <div class="preview-block">
      <h3>Catalogue Page</h3>
      <div id="catalogue-page-preview" class="preview-box"></div>
    </div>

    <div class="preview-block">
      <h3>Presentation Page</h3>
      <div id="presentation-page-preview" class="preview-box"></div>
    </div>
  </div>

  <script src="js/builder.js"></script>
</body>
</html>
